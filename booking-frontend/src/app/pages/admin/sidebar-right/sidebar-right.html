<div class="fixed top-0 right-0 h-screen w-16 bg-white shadow-lg flex flex-col items-center py-4 space-y-6">
  <div class="flex flex-col items-center" (click)="op.toggle($event)">
    <div class="w-12 h-12 rounded-full overflow-hidden">
        <img [src]="user.avatarUrl" alt="avatar" class="w-full h-full object-cover" />
    </div>
    <span class="text-xs text-blue-900 mt-1">{{ user.name }}</span>
  </div>
  <button class="text-gray-600 hover:text-blue-500">
    <i class="fa-solid fa-comments text-xl"></i>
  </button>
  <div class="flex-1"></div>
  <button class="text-gray-600 hover:text-blue-500">
    <i class="fa-solid fa-desktop text-xl"></i>
  </button>
  <button class="text-gray-600 hover:text-blue-500">
    <i class="fa-solid fa-table-cells text-xl"></i>
  </button>
</div>

<p-popover #op>
  <div class="flex flex-col w-48">
    <div class="flex flex-col items-center p-4">
      <div class="w-12 h-12 rounded-full overflow-hidden">
        <img [src]="user.avatarUrl" alt="avatar" class="w-full h-full object-cover" />
      </div>
      <div class="mt-2 text-center">
        <div class="font-semibold text-gray-800 dark:text-gray-100 text-sm">{{ user.fullName }}</div>
        <div class="text-xs text-gray-500 dark:text-gray-400 truncate">{{ user.email }}</div>
      </div>
    </div>

    <div class="flex flex-col divide-y divide-gray-200 dark:divide-gray-700">
      <button class="flex items-center gap-2 py-2 px-4 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition">
        <i class="pi pi-clock text-gray-500"></i>
        <span>Sessions</span>
      </button>
      <button (click)="showRoleModal = true" class="flex items-center gap-2 py-2 px-4 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition">
        <i class="pi pi-link text-gray-500"></i>
        <span>Chuyển quyền</span>
      </button>
      <button [routerLink]="'/admin/my-account'" class="flex items-center gap-2 py-2 px-4 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition">
        <i class="pi pi-id-card text-gray-500"></i>
        <span>Tài khoản</span>
      </button>
      <button (click)="onSignOut()" class="flex items-center gap-2 py-2 px-4 mt-1 text-red-600 hover:bg-red-50 dark:hover:bg-red-700 rounded transition">
        <i class="pi pi-sign-out text-red-600"></i>
        <span>Đăng xuất</span>
      </button>
    </div>
  </div>
</p-popover>

<p-dialog 
  header="Chọn quyền sử dụng"
  [(visible)]="showRoleModal"
  [modal]="true"
  [style]="{width: '400px'}">
  <div class="flex flex-col gap-2">
    <p *ngFor="let role of user.roles">
      <button class="w-full text-left px-4 py-2 rounded hover:bg-gray-100"
              [ngClass]="{'bg-blue-100 font-semibold': role === user.selectedRole}"
              (click)="switchRole(role)">
        {{ role }}
        <i *ngIf="role === user.selectedRole" class="pi pi-check text-green-500 float-right"></i>
      </button>
    </p>
  </div>
</p-dialog>




